(function(t){function s(s){for(var e,r,o=s[0],c=s[1],l=s[2],g=0,d=[];g<o.length;g++)r=o[g],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);u&&u(s);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,s=0;s<i.length;s++){for(var n=i[s],e=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(e=!1)}e&&(i.splice(s--,1),t=r(r.s=n[0]))}return t}var e={},a={app:0},i=[];function r(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,s,n){r.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,s){if(1&s&&(t=r(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)r.d(n,e,function(s){return t[s]}.bind(null,e));return n},r.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(s,"a",s),s},r.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=s,o=o.slice();for(var l=0;l<o.length;l++)s(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,s,n){t.exports=n("56d7")},"0069":function(t,s,n){},"0971":function(t,s,n){},"1cf8":function(t,s,n){"use strict";var e=n("0971"),a=n.n(e);a.a},"1f08":function(t,s,n){},2395:function(t,s,n){},"2c0d":function(t,s,n){"use strict";var e=n("7e7a"),a=n.n(e);a.a},"3a11":function(t,s,n){},"3aba":function(t,s,n){},"3dd0":function(t,s,n){},4045:function(t,s,n){t.exports=n.p+"img/loading.b4c7c196.svg"},"56d7":function(t,s,n){"use strict";n.r(s);n("e260"),n("e6cf"),n("cca6"),n("a79d");var e=n("2b0e"),a=(n("d3b7"),n("bc3a")),i=n.n(a),r={baseURL:"https://music.kele8.cn"},o=i.a.create(r);o.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),o.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,s){t.axios=o,window.axios=o,Object.defineProperties(t.prototype,{axios:{get:function(){return o}},$axios:{get:function(){return o}}})},e["a"].use(Plugin);Plugin;var c=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"},on:{touchstart:t.touchstart,touchend:t.touchend}},[n("keep-alive",[n("router-view",{attrs:{currentSong:t.currentSong},on:{"tanslate-song":function(s){t.currentSong=s}}})],1),t.currentSong?n("PlaySongList",{attrs:{currentSong:t.currentSong},on:{"translate-song":function(s){t.currentSong=s}}}):t._e()],1)},l=[],u=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"musicPlayList"},[n("div",{staticClass:"musicPlayBottom",on:{click:function(s){s.stopPropagation(),t.showSongDetail=!0}}},[n("div",{staticClass:"cover"},[n("img",{staticClass:"thumb",class:{active:this.playing},attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl}})]),n("div",{staticClass:"song"},[n("h5",[t._v(t._s(t.currentSong.name))]),n("span",[t._v(t._s(t.cngArtist(t.currentSong.ar||t.currentSong.song.artists)))])]),n("div",{staticClass:"status",staticStyle:{width:"30px",height:"30px"},on:{click:function(s){s.stopPropagation(),t.playing=!t.playing}}},[n("canvas",{attrs:{id:"canvas",width:"30",height:"30"}}),t.playing?n("i",{staticClass:"fa fa-pause"}):n("i",{staticClass:"fa fa-play"})]),n("div",{staticClass:"list",on:{click:function(s){s.stopPropagation(),t.showList=!t.showList}}},[n("i",{staticClass:"fa fa-bars"})])]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.showList?n("ul",{staticClass:"playList"},t._l(t.playList,(function(s,e){return n("li",{key:e},[n("track-songs",{attrs:{currentSong:t.currentSong,trackSongs:s,news:s.news,order:e},on:{"translate-song":function(s){return t.$emit("translate-song",s)}}})],1)})),0):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showSongDetail,expression:"showSongDetail"}],staticClass:"songDetail"},[n("div",{staticClass:"black"}),n("div",{staticClass:"mask",style:{backgroundImage:"url("+(t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl)+")"}}),n("header",[n("div",{staticClass:"back",on:{click:function(s){t.showSongDetail=!1}}},[n("i",{staticClass:"fa fa-angle-left"})]),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t.currentSong.name))]),n("span",[t._v(t._s(t.cngArtist(t.currentSong.ar||t.currentSong.song.artists)))])]),n("div",{staticClass:"share"},[n("i",{staticClass:"fa fa-share-alt-square"})])]),n("main",{class:{active:t.playing}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCircle,expression:"showCircle"}],staticClass:"glue",on:{click:function(s){t.showCircle=!1}}},[n("div",{staticClass:"needle"}),n("div",{staticClass:"vinyl",on:{click:function(s){t.showAllLyric=!0}}},[n("img",{attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCircle,expression:"!showCircle"}],staticClass:"lyric",on:{click:function(s){t.showCircle=!0}}},[n("ul",{staticClass:"scroll",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.filterLyric,(function(s,e){return n("li",{key:e,class:{active:e===t.currentLyricIndex}},[t._v(" "+t._s(s.text))])})),0)])]),n("footer",[n("div",{staticClass:"tools"},[n("div",{on:{click:function(s){t.loving=!t.loving}}},[n("i",{staticClass:"fa fa-heart",style:{color:t.loving?"red":"white"}})]),n("i",{staticClass:"fa fa-comments",on:{click:function(s){t.showComments="true"}}}),n("i",{staticClass:"fa fa-ellipsis-v"})]),n("div",{staticClass:"progress"},[n("span",[t._v(t._s(t.startTime))]),n("div",{staticClass:"range"},[n("input",{staticClass:"progress-range",attrs:{type:"range",value:"circleWidth",min:"0",step:"0.01",max:"100"},on:{input:function(s){return t.rangeDrag()}}}),n("div",{staticClass:"circle"})]),n("span",[t._v(t._s(t.songDuration))])]),n("div",{staticClass:"status"},[n("i",{staticClass:"fa fa-step-backward",on:{click:function(s){return t.cngSongPlay(t.prevSong)}}}),n("div",{on:{click:function(s){s.stopPropagation(),t.playing=!t.playing}}},[t.playing?n("i",{staticClass:"fa fa-pause"}):n("i",{staticClass:"fa fa-play"})]),n("i",{staticClass:"fa fa-step-forward",on:{click:function(s){return t.cngSongPlay(t.nextSong)}}})])]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[n("SongComments",{directives:[{name:"show",rawName:"v-show",value:t.showComments,expression:"showComments"}],attrs:{comments:t.songComments,currentSong:t.currentSong},on:{showComList:function(s){t.showComments=s}}})],1)],1)]),n("audio",{staticStyle:{height:"0"},attrs:{src:t.currentSongUrl,controls:"",autoplay:""}})],1)},g=[],d=(n("c975"),n("a15b"),n("d81d"),n("45fc"),n("b0c0"),n("a9e3"),n("ac1f"),n("466d"),n("841c"),n("1276"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"trackSongList",on:{click:function(s){return t.$emit("translate-song",t.trackSongs)}}},[t.news?[void 0!==t.order?e("span",{staticClass:"order"},[t._v(t._s(t.cngNum(t.order+1)))]):t._e(),e("div",{staticClass:"main",style:{"margin-left":void 0!==t.order?"0px":"15px"}},[e("h3",[e("span",[t._v(t._s(t.trackSongs.name))]),0!=t.trackSongs.song.alias.length?e("span",{staticClass:"alias"},[t._v("("+t._s(t.trackSongs.song.alias[0])+")")]):t._e()]),e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",[t._v(t._s(t.artistConnect(t.trackSongs.song.artists)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.trackSongs.song.artists.name))])])]),t.currentSong&&t.trackSongs.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:n("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})]:[void 0!==t.order?e("span",{staticClass:"order",class:{active:t.order<3}},[t._v(t._s(t.cngNum(t.order+1)))]):t._e(),e("div",{staticClass:"main"},[e("h3",[e("span",[t._v(t._s(t.trackSongs.name))]),0!=t.trackSongs.alia.length?e("span",{staticClass:"alias"},[t._v("("+t._s(t.trackSongs.alia[0])+")")]):t._e()]),e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",[t._v(t._s(t.artistConnect(t.trackSongs.ar)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.trackSongs.al.name))])])]),t.currentSong&&t.trackSongs.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:n("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})]],2)}),h=[],f={name:"track-songs",props:{order:Number,trackSongs:Object,news:Boolean,currentSong:Object},methods:{artistConnect:function(t){return t.map((function(t){return t.name})).join(" / ")},cngNum:function(t){return t<10?"0"+t:t}}},p=f,m=(n("f13d"),n("2877")),v=Object(m["a"])(p,d,h,!1,null,"059e8890",null),S=v.exports,y=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"comments"},[n("header",[n("i",{staticClass:"fa fa-angle-left",on:{click:function(s){return t.$emit("showComList",!1)}}}),n("h3",[t._v("评论("+t._s(t.comments.total)+")")]),n("img",{attrs:{src:t.currentSong.picUrl?t.currentSong.picUrl:t.currentSong.al.picUrl,alt:""}})]),n("div",{staticClass:"control"},[n("span",[t._v("按"+t._s(t.showDeff)+"排序")]),n("div",{staticClass:"sort"},[n("span",{on:{click:function(s){t.showSort=!t.showSort}}},[t._v(t._s(t.showDeff)),n("i",{staticClass:"fa fa-caret-down"})]),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.showSort,expression:"showSort"}]},[n("li",{on:{click:function(s){return t.cngList(1)}}},[t._v("最新")]),n("li",{on:{click:function(s){return t.cngList(2)}}},[t._v("热门")])])])]),n("main",[t.showLeast?t._l(t.comments.comments,(function(s,e){return n("ul",{key:e,staticClass:"least"},[n("li",{staticClass:"commentList"},[n("div",{staticClass:"lt"},[n("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),n("div",{staticClass:"rt"},[n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[n("h3",[t._v(t._s(s.user.nickname))]),n("span",[t._v(t._s(t.cngTime(s.time)))])]),n("div",{staticClass:"right"},[t._v(t._s(s.likedCount)),n("i",{staticClass:"fa fa-thumbs-o-up"})])]),n("div",{staticClass:"main"},[t._v(t._s(s.content))])])])])})):t._l(t.comments.hotComments,(function(s,e){return n("ul",{key:e,staticClass:"hot"},[n("li",{staticClass:"commentList"},[n("div",{staticClass:"lt"},[n("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),n("div",{staticClass:"rt"},[n("div",{staticClass:"header"},[n("div",{staticClass:"left"},[n("h3",[t._v(t._s(s.user.nickname))]),n("span",[t._v(t._s(t.cngTime(s.time)))])]),n("div",{staticClass:"right"},[t._v(t._s(s.likedCount)),n("i",{staticClass:"fa fa-thumbs-o-up"})])]),n("div",{staticClass:"main"},[t._v(t._s(s.content))])])])])}))],2)])},w=[],C={name:"SongComments",props:{comments:Object,currentSong:Object},data:function(){return{showSort:!1,showDeff:"最新",showLeast:!0}},methods:{cngTime:function(t){var s=new Date(t),n=s.getFullYear(),e=s.getMonth()+1,a=s.getDate(),i=s.getHours(),r=s.getMinutes(),o=s.getSeconds();return i=i<10?"0"+i:i,r=r<10?"0"+r:r,o=o<10?"0"+o:o,n+"年"+e+"月"+a+"日"+i+"时"+r+"分"+o},cngList:function(t){this.showDeff=1==t?"最新":"热门",this.showLeast=1==t,this.showSort=!1}}},_=C,L=(n("6f74"),Object(m["a"])(_,y,w,!1,null,"2f13cb2a",null)),b=L.exports,k={name:"PlaySongList",data:function(){return{playing:!0,showList:!1,playList:[],showSongDetail:!1,showLyric:null,loving:!1,startTime:null,songDuration:null,circleWidth:null,showCircle:!0,currentLyricIndex:0,songComments:null,showComments:!1,currentSongIndex:0}},components:{TrackSongs:S,SongComments:b},props:{currentSong:Object},methods:{drowStatus:function(){var t=this,s=this.$el.querySelector("#canvas"),n=this.$el.querySelector("audio"),e=this.currentSong.dt?this.currentSong.dt:this.currentSong.song.duration;n.ontimeupdate=function(){var a=s.getContext("2d");a.clearRect(0,0,30,30),a.beginPath(),a.arc(15,15,13,0,2*Math.PI),a.closePath(),a.strokeStyle="lightgray",a.lineWidth="1",a.stroke(),a.beginPath(),a.arc(15,15,13,-.5*Math.PI,-.5*Math.PI+2*Math.PI*(1e3*n.currentTime/e)),a.strokeStyle="rgba(255,0,0,0.7)",a.lineWidth="1",a.stroke();var i,r=n.currentTime/n.duration*100;t.circleWidth=Math.floor(r)+"%",t.startTime=t.timeCng(n.currentTime),t.$el.querySelector(".range input").value=r,t.$el.querySelector(".range .circle").style.width=r+"%";for(var o=0;o<t.filterLyric.length;o++)if(n.currentTime+.15<t.filterLyric[o].time){i=o-1;break}void 0===i&&(i=t.filterLyric.length-1),t.currentLyricIndex=i}},cngArtist:function(t){return t.map((function(t){return t.name})).join("/")},getLyric:function(){var t=this,s=window.localStorage.getItem("lyric"+this.currentSong.id);s?this.showLyric=s:window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(s){void 0!=s.data.lrc?(t.showLyric=s.data.lrc.lyric,window.localStorage.setItem("lyric"+t.currentSong.id,s.data.lrc.lyric)):t.showList=null}))},getComment:function(){var t=this,s=JSON.parse(window.localStorage.getItem("comments"+this.currentSong.id));s&&s.expire>Date.now()?this.songComments=s.result:window.axios.get("/comment/music",{params:{id:this.currentSong.id}}).then((function(s){t.songComments=s.data,window.localStorage.setItem("comments"+t.currentSong.id,JSON.stringify({expire:Date.now()+36e5,result:s.data}))}))},timeCng:function(t){var s=parseInt(t/60%60),n=parseInt(t%60);return s=s<10?"0"+s:s,n=n<10?"0"+n:n,s+":"+n},rangeDrag:function(){var t=this.$el.querySelector("audio");t.currentTime=this.$el.querySelector(".range input").value*t.duration/100},cngSongPlay:function(t){this.currentSong=this.playList[t],this.$emit("translate-song",this.playList[t])}},computed:{currentSongUrl:function(){return"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3")},filterLyric:function(){return null!=this.showLyric?this.showLyric.split("\n").map((function(t){var s=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(s)){var n=t.match(s)[0],e=n.substr(0,2),a=n.substr(3,2),i=n.substr(5);return{time:60*Number(e)+Number(a)+Number(i),text:t.substr(11)||"---------"}}return{}})):"暂时未有歌词"},prevSong:function(){return 0==this.currentSongIndex?this.playList.length-1:this.currentSongIndex-1},nextSong:function(){return this.currentSongIndex==this.playList.length-1?0:this.currentSongIndex+1}},watch:{playing:function(t){var s=this.$el.querySelector("audio");t?s.play():s.pause()},currentSong:function(t){var s=this;this.getLyric(),this.getComment();var n=this.playList.some((function(n){return s.currentSongIndex=s.playList.indexOf(s.currentSong),n.id==t.id}));n||(void 0!=t.song?t.news=!0:t.news=!1,this.playList.push(t),this.currentSongIndex=this.playList.length-1)}},created:function(){this.getLyric(),this.getComment(),void 0!=this.currentSong.song?this.currentSong.news=!0:this.currentSong.news=!1,this.playList.push(this.currentSong),this.songDuration=this.timeCng((this.currentSong.dt?this.currentSong.dt:this.currentSong.song.duration)/1e3)},mounted:function(){var t=this;this.drowStatus();var s=this.$el.querySelector("audio");s.onplay=function(){t.playing=!0},s.onpause=function(){t.playing=!1}}},x=k,D=(n("dd43"),Object(m["a"])(x,u,g,!1,null,"800350e0",null)),O=D.exports,I={components:{PlaySongList:O},data:function(){return{currentSong:null,touchstartX:0}},methods:{touchstart:function(t){this.touchstartX=t.changedTouches[0].clientX,this.touchstartY=t.changedTouches[0].clientY},touchend:function(t){t.changedTouches[0].clientX-this.touchstartX>50&&(this.touchstartX=0,this.touchstartY=0,this.routerBack()),t.changedTouches[0].clientX-this.touchstartX<-50&&this.routerForward()},routerBack:function(){this.$router.back()},routerForward:function(){this.$router.forward()}},watch:{currentSongId:function(){}}},P=I,j=(n("7c55"),Object(m["a"])(P,c,l,!1,null,null,null)),U=j.exports,N=n("8c4f"),T=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[t.showLoading?e("div",{staticClass:"loading"},[e("img",{attrs:{src:n("4045"),alt:""}})]):t._e(),e("HomeLink"),e("div",{staticClass:"personalized"},[e("CardTitle",[t._v("推荐歌单")]),e("ul",{staticClass:"songlist"},t._l(t.randomPersonalizeds(),(function(t,s){return e("SongListCard",{key:s,attrs:{songList:t}})})),1)],1),e("div",{staticClass:"newsong"},[e("CardTitle",[t._v("推荐音乐")]),e("ul",t._l(t.newsongs,(function(s,n){return e("SongItem",{key:n,attrs:{songItem:s,options:{info:!0},currentSong:t.currentSong},on:{"tanslate-song":function(s){return t.$emit("tanslate-song",s)}}})})),1)],1)],1)},$=[],q=(n("fb6a"),n("2909")),M=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"title"},[n("h3",[t._t("default")],2)])},E=[],W=(n("d9e9"),{}),H=Object(m["a"])(W,M,E,!1,null,"18beec85",null),z=H.exports,A=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("li",{staticClass:"card",on:{click:function(s){return t.routerToPlayListPage(t.songList.id)}}},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:t.songList.picUrl}}),n("span",[n("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCountParse(t.songList.playCount))+" ")])]),n("h5",[t._v(t._s(t.songList.name))])])},J=[],R=(n("b680"),{props:{songList:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":void 0},routerToPlayListPage:function(t){this.$router.push({path:"playlist",query:{id:t}})}}}),X=R,F=(n("82e1"),Object(m["a"])(X,A,J,!1,null,"2dafc65c",null)),B=F.exports,Y=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",{attrs:{id:"nav"}},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},G=[],K={},Q=K,Z=(n("2c0d"),Object(m["a"])(Q,Y,G,!1,null,"73a144f5",null)),V=Z.exports,tt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"songitem",on:{click:function(s){return t.$emit("tanslate-song",t.songItem)}}},[void 0!==t.options.order?e("span",{staticClass:"order"},[t._v(t._s(t.options.order+1))]):t._e(),e("div",{staticClass:"main",style:{marginLeft:void 0!==t.options.order?"0px":"10px"}},[e("h3",[t._v(" "+t._s(t.songItem.name)+" "),e("span",{staticClass:"alias"},[t._v(t._s(t.songItem.song.alias[0]))])]),!1!==t.options.info?e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",{staticClass:"artists"},[t._v(t._s(t.joinArtists(t.songItem.song.artists)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.songItem.song.album.name))])]):t._e()]),t.currentSong&&t.songItem.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:n("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})])},st=[],nt={props:{options:Object,songItem:Object,currentSong:Object},methods:{joinArtists:function(t){return t.map((function(t){return t.name})).join(" / ")}}},et=nt,at=(n("1cf8"),Object(m["a"])(et,tt,st,!1,null,"ee5adfec",null)),it=at.exports,rt={name:"Home",props:{currentSong:Object},data:function(){return{personalizeds:[],newsongs:[],showLoading:!1}},components:{CardTitle:z,SongListCard:B,HomeLink:V,SongItem:it},methods:{getPersonalized:function(){var t=this;this.axios.get("/personalized").then((function(s){t.personalizeds=s.data.result,window.localStorage.setItem("personalizeds",JSON.stringify({expire:Date.now()+36e5,result:s.data.result}))})).catch((function(t){console.log(t)}))},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(s){t.newsongs=s.data.result,window.localStorage.setItem("newsongs",JSON.stringify({expire:Date.now()+36e5,result:s.data.result}))})).catch((function(t){console.log(t)}))},randomPersonalizeds:function(){return Object(q["a"])(this.personalizeds).slice(0,6)}},created:function(){var t=JSON.parse(window.localStorage.getItem("personalizeds"));t&&t.expire>Date.now()?this.personalizeds=t.result:this.getPersonalized();var s=JSON.parse(window.localStorage.getItem("newsongs"));s&&s.expire>Date.now()?this.newsongs=s.result:this.getNewSong()},beforeRouteEnter:function(t,s,n){n((function(t){t.showLoading=!1}))},beforeRouteLeave:function(t,s,n){this.showLoading=!0,n()}},ot=rt,ct=(n("de16"),Object(m["a"])(ot,T,$,!1,null,null,null)),lt=ct.exports,ut=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[n("HomeLink"),n("div",{staticClass:"head"},[n("div",{staticClass:"left"},[n("div",{staticClass:"listImg"},[n("img",{attrs:{src:t.songListDetail.coverImgUrl}})])]),n("div",{staticClass:"right"},[n("div",{staticClass:"rUp"},[n("h3",[t._v("云音乐飙升榜")]),n("p",[n("span",{staticClass:"iconfont"},[t._v("")]),this.dayNumber>0?n("span",[t._v("最近更新："+t._s(t.dayNumber)+"天前(每周四更新)")]):n("span",[t._v("最近更新：今天(每周四更新)")])])]),n("div",{staticClass:"rDown"})])]),n("div",{staticClass:"songLnfo"},[n("ul",{staticClass:"hotSongCon"},t._l(t.hotSongList,(function(s,e){return n("track-songs",{key:e,attrs:{trackSongs:s,order:e,news:!1,currentSong:t.currentSong},on:{"translate-song":function(s){return t.$emit("translate-song",s)}}})})),1)])],1)},gt=[],dt={components:{HomeLink:V,TrackSongs:S},props:{currentSong:Object},data:function(){return{songListDetail:Object,dayNumber:Number,songListLength:Number,currentSongUrl:"",playing:!1,hotSongList:[],updateTime:null}},beforeRouteEnter:function(t,s,n){window.axios.get("/top/list",{params:{idx:1}}).then((function(t){n((function(s){s.songListDetail=t.data.playlist,s.getUpDatetime()}))})).catch((function(t){console.log(t)}))},methods:{getUpDatetime:function(){var t=Number(String(Date.now()-this.songListDetail.updateTime).substring(0,6));this.dayNumber=Math.floor(t/86400),this.songListLength=this.songListDetail.tracks.length},switchplay:function(){this.playing=!this.playing},getHotSong:function(){var t=this;this.axios.get("/top/list?idx=1").then((function(s){t.hotSongList=s.data.playlist.tracks,t.updateTime=s.data.playlist.updateTime,window.localStorage.setItem("hotRankingList",JSON.stringify({expire:24*Date.now()*60*60*1e3,result:Object(q["a"])(s.data.playlist.tracks).slice(0,20),updateTime:s.data.playlist.updateTime}))})).catch((function(t){console.log(t)}))},setUpdateTime:function(){var t=new Date(parseInt(this.updateTime)),s=t.getMonth()+1;s=s<10?"0"+s:s;var n=t.getDate();return n=n<10?"0"+n:n,s+"月"+n+"日"}},watch:{playing:function(t){var s=this.$el.querySelector("audio");t?s.play():s.pause()}},created:function(){var t=JSON.parse(window.localStorage.getItem("hotRankingList"));t&&t.expire>Date.now()?(this.hotSongList=t.result,this.updateTime=t.updateTime):this.getHotSong()}},ht=dt,ft=(n("8ce7"),Object(m["a"])(ht,ut,gt,!1,null,"6c83f74e",null)),pt=ft.exports,mt=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[n("HomeLink"),n("div",{staticClass:"searchInPut"},[n("div",{staticClass:"inputBox"},[n("span",{ref:"iconfont",staticClass:"iconfont"},[t._v("")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputWord,expression:"inputWord"}],attrs:{type:"text",placeholder:t.searchDefault},domProps:{value:t.inputWord},on:{click:function(s){t.searchshow=!0},input:function(s){s.target.composing||(t.inputWord=s.target.value)}}})]),n("div",{staticClass:"cancel",on:{click:function(s){t.searchshow=!1}}},[t._v("取消")]),t.searchshow?n("div",{ref:"searchAnswer",staticClass:"searchAnswer"},[n("ul",t._l(t.searchAnswer.songs,(function(s,e){return n("li",{key:e,on:{click:function(s){return t.playing(t.searchAnswer.songs[e].id)}}},[n("div",{staticClass:"anLeft"},[n("img",{attrs:{src:s.artists[0].img1v1Url}})]),n("div",{staticClass:"abright"},[n("div",{staticClass:"songName"},[t._v(t._s(s.name))]),n("div",{staticClass:"art"},[t._v(t._s(s.artists[0].name))])])])})),0)]):t._e()]),t._m(0),n("div",{staticClass:"searchHotWords"},[n("div",{staticClass:"title"},[t._v("热搜榜")]),n("ul",t._l(t.searchList.data,(function(s,e){return n("li",{key:e},[n("div",{staticClass:"left"},[t._v(t._s(e+1))]),n("div",{staticClass:"right"},[n("div",{staticClass:"up"},[n("span",[t._v(t._s(s.searchWord))]),n("img",{attrs:{src:s.iconUrl}})]),n("div",{staticClass:"down"},[n("span",[t._v(t._s(s.content))])])])])})),0)]),n("audio",{attrs:{src:t.currentSongUrl,autoplay:"",controls:"",id:"audio"}})],1)},vt=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"searchHistory"},[n("span",[t._v("搜索历史")]),n("span",{staticClass:"iconfont"},[t._v("")]),n("div",{staticClass:"history"})])}],St={components:{HomeLink:V},data:function(){return{searchDefault:String,searchList:Object,searchHistroy:Object,inputWord:"",searchAnswer:Object,searchshow:!1,currentSongUrl:""}},watch:{inputWord:function(){var t=this;window.axios.get("/search",{params:{keywords:this.inputWord}}).then((function(s){t.searchAnswer=s.data.result})).catch((function(t){console.log(t)}))}},methods:{getdefaultWord:function(){var t=this;window.axios.get("/search/default").then((function(s){t.searchDefault=s.data.data.showKeyword})).catch((function(t){console.log(t)}))},playing:function(t){this.currentSongUrl="https://music.163.com/song/media/outer/url?id=".concat(t,".mp3")}},beforeRouteEnter:function(t,s,n){window.axios.get("/search/hot/detail").then((function(t){n((function(s){s.searchList=t.data,s.getdefaultWord()}))})).catch((function(t){console.log(t)}))}},yt=St,wt=(n("e50c"),Object(m["a"])(yt,mt,vt,!1,null,"1031d1ec",null)),Ct=wt.exports,_t=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[t.songListDetail?[n("div",{staticClass:"header"},[n("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songListDetail.coverImgUrl+")"}}),n("div",{staticClass:"fl"},[n("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),n("span",{staticClass:"playcount"},[n("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCountParse(t.songListDetail.playCount))+" ")]),n("span",{staticClass:"icon"},[t._v("歌单")])]),n("div",{staticClass:"fr"},[n("h3",[t._v(t._s(t.songListDetail.name))]),n("img",{attrs:{src:t.songListDetail.creator.avatarUrl,alt:""}}),n("span",[t._v(t._s(t.songListDetail.creator.nickname))])])]),n("div",{staticClass:"info"},[n("div",{staticClass:"tags"},[n("span",[t._v("标签：")]),t._l(t.songListDetail.tags,(function(s,e){return n("i",{key:e},[t._v(t._s(s))])}))],2),n("div",{staticClass:"desc",class:{show:t.showMoreDesc}},[n("span",[t._v("简介：")]),n("span",[t._v(t._s(t.songListDetail.description))])]),n("div",{staticClass:"more",on:{click:function(s){t.showMoreDesc=!t.showMoreDesc}}},[t.showMoreDesc?n("i",{staticClass:"fa fa-angle-up"}):n("i",{staticClass:"fa fa-angle-down"})])]),n("div",{staticClass:"SongList"},[n("ul",t._l(t.songListDetail.tracks,(function(s,e){return n("li",{key:e,on:{click:function(s){return t.getSongUrl(t.id)}}},[n("span",[t._v(t._s(s.name))]),n("div",{staticClass:"arrt"},[n("i",{staticClass:"icon icon-quality"}),n("span",[t._v(t._s(s.ar[0].name))]),n("i",{staticClass:"icon icon-play"})])])})),0)]),n("audio",{attrs:{src:"currentSongUrl",autoplay:"",controls:"",height:"30"}})]:t._e()],2)},Lt=[],bt={data:function(){return{songListId:this.$route.query.id,songListDetail:null,showMoreDesc:!1,currentSongUrl:null}},components:{},methods:{getSongListDetail:function(t){var s=this;this.axios.get("/playlist/detail",{params:{id:t}}).then((function(t){s.songListDetail=t.data.playlist,console.log(t.data),window.localStorage.setItem("sl-"+s.$route.query.id,JSON.stringify({expire:Date.now()+108e5,result:t.data.playlist}))})).catch((function(t){console.log(t)}))},getSongUrl:function(t){var s=this;this.axios.get("/song/url",{params:{id:t}}).then((function(t){s.currentSongUrl=t.data.url,console.log(s.currentSongUrl)})).catch((function(t){console.log(t)}))},playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":void 0}},beforeRouteEnter:function(t,s,n){var e=JSON.parse(window.localStorage.getItem("sl-"+t.query.id));e&&e.expire>Date.now()?n((function(s){s.songListId=Number(t.query.id),s.songListDetail=e.playlist})):window.axios.get("/playlist/detail",{params:{id:t.query.id}}).then((function(s){var e=s.data.playlist;window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:Date.now()+108e5,playlist:s.data.playlist})),n((function(s){s.songListId=Number(t.query.id),s.songListDetail=e}))})).catch((function(t){console.log(t)}))}},kt=bt,xt=(n("9acf"),Object(m["a"])(kt,_t,Lt,!1,null,"7108ef08",null)),Dt=xt.exports;e["a"].use(N["a"]);var Ot=[{path:"/",name:"Home",component:lt},{path:"/hot",name:"Hot",component:pt},{path:"/search",name:"Search",component:Ct},{path:"/playlist",name:"Playlist",component:Dt,meta:{requiresAuth:!0}}],It=new N["a"]({routes:Ot}),Pt=It;e["a"].config.productionTip=!1,new e["a"]({router:Pt,render:function(t){return t(U)}}).$mount("#app")},"6f74":function(t,s,n){"use strict";var e=n("80f8"),a=n.n(e);a.a},"7c55":function(t,s,n){"use strict";var e=n("2395"),a=n.n(e);a.a},"7e7a":function(t,s,n){},"803f":function(t,s,n){t.exports=n.p+"img/playing.ab1993a5.svg"},"80f8":function(t,s,n){},"82e1":function(t,s,n){"use strict";var e=n("1f08"),a=n.n(e);a.a},"8ce7":function(t,s,n){"use strict";var e=n("3dd0"),a=n.n(e);a.a},"8d91":function(t,s,n){},"9acf":function(t,s,n){"use strict";var e=n("3a11"),a=n.n(e);a.a},"9e3c":function(t,s,n){},d9e9:function(t,s,n){"use strict";var e=n("9e3c"),a=n.n(e);a.a},dd43:function(t,s,n){"use strict";var e=n("3aba"),a=n.n(e);a.a},de16:function(t,s,n){"use strict";var e=n("8d91"),a=n.n(e);a.a},e50c:function(t,s,n){"use strict";var e=n("0069"),a=n.n(e);a.a},f13d:function(t,s,n){"use strict";var e=n("fbfc"),a=n.n(e);a.a},fbfc:function(t,s,n){}});
//# sourceMappingURL=app.351e7b2f.js.map