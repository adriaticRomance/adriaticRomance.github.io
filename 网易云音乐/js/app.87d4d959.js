(function(t){function s(s){for(var e,o,r=s[0],c=s[1],l=s[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);u&&u(s);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,s=0;s<i.length;s++){for(var n=i[s],e=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(e=!1)}e&&(i.splice(s--,1),t=o(o.s=n[0]))}return t}var e={},a={app:0},i=[];function o(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,s,n){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var e in t)o.d(n,e,function(s){return t[s]}.bind(null,e));return n},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=s,r=r.slice();for(var l=0;l<r.length;l++)s(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,s,n){t.exports=n("56d7")},"0971":function(t,s,n){},"0a58":function(t,s,n){"use strict";var e=n("892f"),a=n.n(e);a.a},"1cf8":function(t,s,n){"use strict";var e=n("0971"),a=n.n(e);a.a},"1f08":function(t,s,n){},2395:function(t,s,n){},"2c0d":function(t,s,n){"use strict";var e=n("7e7a"),a=n.n(e);a.a},"3a11":function(t,s,n){},4045:function(t,s,n){t.exports=n.p+"img/loading.b4c7c196.svg"},"425c":function(t,s,n){},"504c":function(t,s,n){"use strict";var e=n("425c"),a=n.n(e);a.a},"56d7":function(t,s,n){"use strict";n.r(s);n("e260"),n("e6cf"),n("cca6"),n("a79d");var e=n("2b0e"),a=(n("d3b7"),n("bc3a")),i=n.n(a),o={baseURL:"https://music.kele8.cn"},r=i.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,s){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},e["a"].use(Plugin);Plugin;var c=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"},on:{touchstart:t.touchstart,touchend:t.touchend}},[n("keep-alive",[n("router-view",{attrs:{currentSong:t.currentSong},on:{"tanslate-song":function(s){t.currentSong=s}}})],1),t.currentSong?n("PlayBar",{attrs:{currentSong:t.currentSong},on:{"tanslate-song":function(s){t.currentSong=s}}}):t._e()],1)},l=[],u=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"playbar"},[n("div",{staticClass:"playbarbottom",on:{click:function(s){t.showFullscreen=!0}}},[n("img",{staticClass:"thumb",class:{active:t.playing},attrs:{src:t.currentSong.picUrl,alt:""}}),n("div",{staticClass:"info"},[n("h5",[t._v(t._s(t.currentSong.name))]),n("span",[t._v(t._s(t.joinArtists(t.currentSong.song.artists)))])]),n("div",{staticClass:"progress",on:{click:function(s){s.stopPropagation(),t.playing=!t.playing}}},[n("canvas",{attrs:{width:"36",height:"36",id:"canvas"}}),t.playing?n("i",{staticClass:"fa fa-pause"}):n("i",{staticClass:"fa fa-play"})]),n("div",{staticClass:"playlist",on:{click:function(s){s.stopPropagation(),t.showPlayList=!t.showPlayList}}},[n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"}})])]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated slideInUp","leave-active-class":"animated slideOutDown"}},[t.showPlayList?n("ul",{staticClass:"defaultPlayList"},t._l(t.defaultPlayList,(function(s,e){return n("SongItem",{key:e,attrs:{songItem:s,options:{order:e,info:!1},currentSong:t.currentSong},on:{"tanslate-song":function(s){return t.$emit("tanslate-song",s)}}})})),1):t._e()]),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showFullscreen,expression:"showFullscreen"}],staticClass:"fullscreenplay"},[n("div",{staticClass:"mask",style:{backgroundImage:"url("+t.currentSong.picUrl+")"}}),n("header",[n("i",{staticClass:"fa fa-arrow-left",on:{click:function(s){t.showFullscreen=!1}}})]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showCircle,expression:"showCircle"}],staticClass:"circle",class:{active:t.playing},on:{click:function(s){t.showCircle=!1}}},[n("div",{staticClass:"needle"}),n("div",{staticClass:"glue"},[n("img",{attrs:{src:t.currentSong.picUrl,alt:""}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showCircle,expression:"!showCircle"}],staticClass:"lyric-box",on:{click:function(s){t.showCircle=!0}}},[n("ul",{staticClass:"scroll",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.parsedLyric,(function(s,e){return n("li",{key:e,class:{active:e===t.currentLyricIndex}},[t._v(t._s(s.text))])})),0)]),n("footer",[n("div",{staticClass:"up"},[n("div",{staticClass:"pre",on:{click:function(s){return s.stopPropagation(),t.prevSong(s)}}},[n("span",{staticClass:"iconfont"},[t._v("")])]),n("div",{staticClass:"puase",on:{click:function(s){s.stopPropagation(),t.playing=!t.playing}}},[t.playing?n("span",{staticClass:"iconfont"},[t._v("")]):n("span",{staticClass:"iconfont"},[t._v("")])]),n("div",{staticClass:"next",on:{click:function(s){return s.stopPropagation(),t.nextSong(s)}}},[n("span",{staticClass:"iconfont"},[t._v("")])])]),n("div",{staticClass:"down"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"prog"},[n("div",{staticClass:"point"})])])])])])]),n("audio",{attrs:{src:t.currentSongUrl,autoplay:"",controls:"",height:"30"}})],1)},d=[],f=(n("a15b"),n("d81d"),n("45fc"),n("b0c0"),n("a9e3"),n("ac1f"),n("466d"),n("841c"),n("1276"),function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",{staticClass:"songitem",on:{click:function(s){return t.$emit("tanslate-song",t.songItem)}}},[void 0!==t.options.order?e("span",{staticClass:"order"},[t._v(t._s(t.options.order+1))]):t._e(),e("div",{staticClass:"main",style:{marginLeft:void 0!==t.options.order?"0px":"10px"}},[e("h3",[t._v(" "+t._s(t.songItem.name)+" "),e("span",{staticClass:"alias"},[t._v(t._s(t.songItem.song.alias[0]))])]),!1!==t.options.info?e("div",{staticClass:"info"},[e("i",{staticClass:"icon icon-quality"}),e("span",{staticClass:"artists"},[t._v(t._s(t.joinArtists(t.songItem.song.artists)))]),e("span",{staticClass:"album"},[t._v("-"+t._s(t.songItem.song.album.name))])]):t._e()]),t.currentSong&&t.songItem.id===t.currentSong.id?e("img",{staticClass:"icon icon-play",staticStyle:{background:"none"},attrs:{src:n("803f"),alt:""}}):e("i",{staticClass:"icon icon-play"})])}),g=[],p={props:{options:Object,songItem:Object,currentSong:Object},methods:{joinArtists:function(t){return t.map((function(t){return t.name})).join(" / ")}}},h=p,v=(n("1cf8"),n("2877")),m=Object(v["a"])(h,f,g,!1,null,"ee5adfec",null),y=m.exports,_={props:{currentSong:Object},components:{SongItem:y},data:function(){return{playing:!1,showFullscreen:!1,showCircle:!1,currentLyric:null,currentLyricIndex:0,showPlayList:!1,defaultPlayList:[this.currentSong]}},methods:{prevSong:function(){this.defaultPlayList&&console.log(this.defaultPlayList)},nextSong:function(){this.defaultPlayList&&console.log(this.defaultPlayList)},joinArtists:function(t){return t.map((function(t){return t.name})).join(" / ")},drawProgress:function(){var t=this,s=this.$el.querySelector("#canvas"),n=this.$el.querySelector("audio"),e=this.currentSong.song.duration;n.ontimeupdate=function(){var a,i=s.getContext("2d");i.clearRect(0,0,36,36),i.beginPath(),i.arc(18,18,17,0,2*Math.PI),i.closePath(),i.strokeStyle="gray",i.lineWidth="1",i.stroke(),i.beginPath(),i.arc(18,18,17,-.5*Math.PI,-.5*Math.PI+2*Math.PI*(1e3*n.currentTime/e)),i.strokeStyle="rgba(255,0,0,0.7)",i.lineWidth="1",i.stroke();for(var o=0;o<t.parsedLyric.length;o++)if(n.currentTime+.15<t.parsedLyric[o].time){a=o-1;break}void 0===a&&(a=t.parsedLyric.length-1),t.currentLyricIndex=a}},getLyric:function(){var t=this,s=window.localStorage.getItem("lyric"+this.currentSong.id);s?this.currentLyric=s:window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(s){t.currentLyric=s.data.lrc.lyric,window.localStorage.setItem("lyric"+t.currentSong.id,s.data.lrc.lyric)}))}},computed:{currentSongUrl:function(){return this.currentSong?"https://music.163.com/song/media/outer/url?id=".concat(this.currentSong.id,".mp3"):""},parsedLyric:function(){return this.currentLyric?this.currentLyric.split("\n").map((function(t){var s=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(s)){var n=t.match(s)[0],e=n.substr(0,2),a=n.substr(3,2),i=n.substr(5);return{time:60*Number(e)+Number(a)+Number(i),text:t.substr(11)||"---------"}}return{}})):null}},mounted:function(){var t=this,s=this.$el.querySelector("audio");this.drawProgress(),s.onplay=function(){console.log("开始播放"),t.playing=!0},s.onpause=function(){console.log("暂停播放"),t.playing=!1}},watch:{playing:function(t){var s=this.$el.querySelector("audio");t?s.play():s.pause()},currentSong:function(t){this.getLyric();var s=this.defaultPlayList.some((function(s){return s.id==t.id}));s||this.defaultPlayList.push(t)}},created:function(){this.getLyric()}},w=_,C=(n("cc44"),Object(v["a"])(w,u,d,!1,null,"7bd12256",null)),b=C.exports,L={components:{PlayBar:b},data:function(){return{currentSong:null,touchstartX:0}},methods:{touchstart:function(t){this.touchstartX=t.changedTouches[0].clientX,this.touchstartY=t.changedTouches[0].clientY},touchend:function(t){t.changedTouches[0].clientX-this.touchstartX>50&&(console.log("从左到右"),this.touchstartX=0,this.touchstartY=0,this.routerBack()),t.changedTouches[0].clientX-this.touchstartX<-50&&(console.log("从右到左"),this.routerForward())},routerBack:function(){this.$router.back()},routerForward:function(){this.$router.forward()}},watch:{currentSongId:function(){}}},S=L,x=(n("7c55"),Object(v["a"])(S,c,l,!1,null,null,null)),k=x.exports,P=n("8c4f"),D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home"},[t.showLoading?e("div",{staticClass:"loading"},[e("img",{attrs:{src:n("4045"),alt:""}})]):t._e(),e("HomeLink"),e("div",{staticClass:"personalized"},[e("CardTitle",[t._v("推荐歌单")]),e("ul",{staticClass:"songlist"},t._l(t.randomPersonalizeds(),(function(t,s){return e("SongListCard",{key:s,attrs:{songList:t}})})),1)],1),e("div",{staticClass:"newsong"},[e("CardTitle",[t._v("推荐音乐")]),e("ul",t._l(t.newsongs,(function(s,n){return e("SongItem",{key:n,attrs:{songItem:s,options:{info:!0},currentSong:t.currentSong},on:{"tanslate-song":function(s){return t.$emit("tanslate-song",s)}}})})),1)],1)],1)},I=[],O=(n("fb6a"),n("2909")),j=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"title"},[n("h3",[t._t("default")],2)])},N=[],$=(n("d9e9"),{}),U=Object(v["a"])($,j,N,!1,null,"18beec85",null),E=U.exports,q=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("li",{staticClass:"card",on:{click:function(s){return t.routerToPlayListPage(t.songList.id)}}},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:t.songList.picUrl}}),n("span",[n("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCountParse(t.songList.playCount))+" ")])]),n("h5",[t._v(t._s(t.songList.name))])])},T=[],M=(n("b680"),{props:{songList:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":void 0},routerToPlayListPage:function(t){this.$router.push({path:"playlist",query:{id:t}})}}}),W=M,z=(n("82e1"),Object(v["a"])(W,q,T,!1,null,"2dafc65c",null)),H=z.exports,F=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",{attrs:{id:"nav"}},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},A=[],J={},R=J,X=(n("2c0d"),Object(v["a"])(R,F,A,!1,null,"73a144f5",null)),B=X.exports,Y={name:"Home",props:{currentSong:Object},data:function(){return{personalizeds:[],newsongs:[],showLoading:!1}},components:{CardTitle:E,SongListCard:H,HomeLink:B,SongItem:y},methods:{getPersonalized:function(){var t=this;this.axios.get("/personalized").then((function(s){t.personalizeds=s.data.result,window.localStorage.setItem("personalizeds",JSON.stringify({expire:Date.now()+36e5,result:s.data.result}))})).catch((function(t){console.log(t)}))},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(s){t.newsongs=s.data.result,window.localStorage.setItem("newsongs",JSON.stringify({expire:Date.now()+36e5,result:s.data.result}))})).catch((function(t){console.log(t)}))},randomPersonalizeds:function(){return Object(O["a"])(this.personalizeds).slice(0,6)}},created:function(){var t=JSON.parse(window.localStorage.getItem("personalizeds"));t&&t.expire>Date.now()?this.personalizeds=t.result:this.getPersonalized();var s=JSON.parse(window.localStorage.getItem("newsongs"));s&&s.expire>Date.now()?this.newsongs=s.result:this.getNewSong()},beforeRouteEnter:function(t,s,n){n((function(t){t.showLoading=!1}))},beforeRouteLeave:function(t,s,n){this.showLoading=!0,n()}},G=Y,K=(n("de16"),Object(v["a"])(G,D,I,!1,null,null,null)),Q=K.exports,Z=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[n("HomeLink"),n("div",{staticClass:"head"},[n("div",{staticClass:"left"},[n("div",{staticClass:"listImg"},[n("img",{attrs:{src:t.songListDetail.coverImgUrl}})])]),n("div",{staticClass:"right"},[n("div",{staticClass:"rUp"},[n("h3",[t._v("云音乐飙升榜")]),n("p",[n("span",{staticClass:"iconfont"},[t._v("")]),this.dayNumber>0?n("span",[t._v("最近更新："+t._s(t.dayNumber)+"天前(每周四更新)")]):n("span",[t._v("最近更新：今天(每周四更新)")])])]),n("div",{staticClass:"rDown"},[t._m(0),n("button",[n("span",{staticClass:"iconfont"},[t._v("")]),n("span",[t._v("("+t._s(t.songListDetail.subscribedCount)+")")])]),n("button",[n("span",{staticClass:"iconfont"},[t._v("")]),n("span",[t._v("("+t._s(t.songListDetail.shareCount)+")")])]),t._m(1),n("button",[n("span",{staticClass:"iconfont"},[t._v("󰌂")]),n("span",[t._v("("+t._s(t.songListDetail.commentCount)+")")])])])])]),n("div",{staticClass:"songLnfo"},[n("div",{staticClass:"title"},[n("span",[t._v("歌曲列表")]),n("span",[t._v(t._s(t.songListLength)+"首歌")])]),n("ul",t._l(t.songListDetail.tracks,(function(s,e){return n("li",{key:e},[n("span",{staticClass:"number"},[t._v(t._s(e+1))]),n("img",{attrs:{src:s.al.picUrl}}),n("span",{staticClass:"songName"},[t._v(t._s(s.al.name))]),n("i",{staticClass:"icon icon-play"})])})),0)])],1)},V=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("button",[n("span",{staticClass:"iconfont"},[t._v("")]),n("span",[t._v("播放")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("button",[n("span",{staticClass:"iconfont"},[t._v("")]),n("span",[t._v("下载")])])}],tt={components:{HomeLink:B},data:function(){return{songListDetail:Object,dayNumber:Number,songListLength:Number}},beforeRouteEnter:function(t,s,n){window.axios.get("/top/list",{params:{idx:1}}).then((function(t){n((function(s){s.songListDetail=t.data.playlist,s.getUpDatetime()}))})).catch((function(t){console.log(t)}))},methods:{getUpDatetime:function(){var t=Number(String(Date.now()-this.songListDetail.updateTime).substring(0,6));this.dayNumber=Math.floor(t/86400),this.songListLength=this.songListDetail.tracks.length}}},st=tt,nt=(n("0a58"),Object(v["a"])(st,Z,V,!1,null,"2a00bb30",null)),et=nt.exports,at=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[n("HomeLink"),n("div",{staticClass:"searchInPut"},[n("div",{staticClass:"inputBox"},[n("span",{ref:"iconfont",staticClass:"iconfont"},[t._v("")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputWord,expression:"inputWord"}],attrs:{type:"text",placeholder:t.searchDefault},domProps:{value:t.inputWord},on:{click:function(s){t.searchshow=!0},input:function(s){s.target.composing||(t.inputWord=s.target.value)}}})]),n("div",{staticClass:"cancel",on:{click:function(s){t.searchshow=!1}}},[t._v("取消")]),t.searchshow?n("div",{ref:"searchAnswer",staticClass:"searchAnswer"},[n("ul",t._l(t.searchAnswer.songs,(function(s,e){return n("li",{key:e},[n("div",{staticClass:"anLeft"},[n("img",{attrs:{src:s.artists[0].img1v1Url}})]),n("div",{staticClass:"abright"},[n("div",{staticClass:"songName"},[t._v(t._s(s.name))]),n("div",{staticClass:"art"},[t._v(t._s(s.artists[0].name))])])])})),0)]):t._e()]),t._m(0),n("div",{staticClass:"searchHotWords"},[n("div",{staticClass:"title"},[t._v("热搜榜")]),n("ul",t._l(t.searchList.data,(function(s,e){return n("li",{key:e},[n("div",{staticClass:"left"},[t._v(t._s(e+1))]),n("div",{staticClass:"right"},[n("div",{staticClass:"up"},[n("span",[t._v(t._s(s.searchWord))]),n("img",{attrs:{src:s.iconUrl}})]),n("div",{staticClass:"down"},[n("span",[t._v(t._s(s.content))])])])])})),0)])],1)},it=[function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"searchHistory"},[n("span",[t._v("搜索历史")]),n("span",{staticClass:"iconfont"},[t._v("")]),n("div",{staticClass:"history"})])}],ot={components:{HomeLink:B},data:function(){return{searchDefault:String,searchList:Object,searchHistroy:Object,inputWord:"",searchAnswer:Object,searchshow:!1}},watch:{inputWord:function(){var t=this;window.axios.get("/search",{params:{keywords:this.inputWord}}).then((function(s){t.searchAnswer=s.data.result})).catch((function(t){console.log(t)}))}},methods:{getdefaultWord:function(){var t=this;window.axios.get("/search/default").then((function(s){t.searchDefault=s.data.data.showKeyword})).catch((function(t){console.log(t)}))}},beforeRouteEnter:function(t,s,n){window.axios.get("/search/hot/detail").then((function(t){n((function(s){s.searchList=t.data,s.getdefaultWord()}))})).catch((function(t){console.log(t)}))}},rt=ot,ct=(n("504c"),Object(v["a"])(rt,at,it,!1,null,"b6fd3464",null)),lt=ct.exports,ut=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"palylist"},[t.songListDetail?[n("div",{staticClass:"header"},[n("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songListDetail.coverImgUrl+")"}}),n("div",{staticClass:"fl"},[n("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),n("span",{staticClass:"playcount"},[n("i",{staticClass:"fa fa-headphones"}),t._v(" "+t._s(t.playCountParse(t.songListDetail.playCount))+" ")]),n("span",{staticClass:"icon"},[t._v("歌单")])]),n("div",{staticClass:"fr"},[n("h3",[t._v(t._s(t.songListDetail.name))]),n("img",{attrs:{src:t.songListDetail.creator.avatarUrl,alt:""}}),n("span",[t._v(t._s(t.songListDetail.creator.nickname))])])]),n("div",{staticClass:"info"},[n("div",{staticClass:"tags"},[n("span",[t._v("标签：")]),t._l(t.songListDetail.tags,(function(s,e){return n("i",{key:e},[t._v(t._s(s))])}))],2),n("div",{staticClass:"desc",class:{show:t.showMoreDesc}},[n("span",[t._v("简介：")]),n("span",[t._v(t._s(t.songListDetail.description))])]),n("div",{staticClass:"more",on:{click:function(s){t.showMoreDesc=!t.showMoreDesc}}},[t.showMoreDesc?n("i",{staticClass:"fa fa-angle-up"}):n("i",{staticClass:"fa fa-angle-down"})])]),n("div",{staticClass:"SongList"},[n("ul",t._l(t.songListDetail.tracks,(function(s,e){return n("li",{key:e,on:{click:function(s){return t.getSongUrl(t.id)}}},[n("span",[t._v(t._s(s.name))]),n("div",{staticClass:"arrt"},[n("i",{staticClass:"icon icon-quality"}),n("span",[t._v(t._s(s.ar[0].name))]),n("i",{staticClass:"icon icon-play"})])])})),0)]),n("audio",{attrs:{src:"currentSongUrl",autoplay:"",controls:"",height:"30"}})]:t._e()],2)},dt=[],ft={data:function(){return{songListId:this.$route.query.id,songListDetail:null,showMoreDesc:!1,currentSongUrl:null}},components:{},methods:{getSongListDetail:function(t){var s=this;this.axios.get("/playlist/detail",{params:{id:t}}).then((function(t){s.songListDetail=t.data.playlist,console.log(t.data),window.localStorage.setItem("sl-"+s.$route.query.id,JSON.stringify({expire:Date.now()+108e5,result:t.data.playlist}))})).catch((function(t){console.log(t)}))},getSongUrl:function(t){var s=this;this.axios.get("/song/url",{params:{id:t}}).then((function(t){s.currentSongUrl=t.data.url,console.log(s.currentSongUrl)})).catch((function(t){console.log(t)}))},playCountParse:function(t){return t>1e8?(t/1e8).toFixed(1)+"亿":t>1e4?(t/1e4).toFixed(1)+"万":void 0}},beforeRouteEnter:function(t,s,n){var e=JSON.parse(window.localStorage.getItem("sl-"+t.query.id));e&&e.expire>Date.now()?n((function(s){s.songListId=Number(t.query.id),s.songListDetail=e.playlist})):window.axios.get("/playlist/detail",{params:{id:t.query.id}}).then((function(s){var e=s.data.playlist;window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:Date.now()+108e5,playlist:s.data.playlist})),n((function(s){s.songListId=Number(t.query.id),s.songListDetail=e}))})).catch((function(t){console.log(t)}))}},gt=ft,pt=(n("9acf"),Object(v["a"])(gt,ut,dt,!1,null,"7108ef08",null)),ht=pt.exports;e["a"].use(P["a"]);var vt=[{path:"/",name:"Home",component:Q},{path:"/hot",name:"Hot",component:et},{path:"/search",name:"Search",component:lt},{path:"/playlist",name:"Playlist",component:ht,meta:{requiresAuth:!0}}],mt=new P["a"]({routes:vt}),yt=mt;e["a"].config.productionTip=!1,new e["a"]({router:yt,render:function(t){return t(k)}}).$mount("#app")},"7c55":function(t,s,n){"use strict";var e=n("2395"),a=n.n(e);a.a},"7e7a":function(t,s,n){},"803f":function(t,s,n){t.exports=n.p+"img/playing.ab1993a5.svg"},"82e1":function(t,s,n){"use strict";var e=n("1f08"),a=n.n(e);a.a},"892f":function(t,s,n){},"8d91":function(t,s,n){},"9acf":function(t,s,n){"use strict";var e=n("3a11"),a=n.n(e);a.a},"9e3c":function(t,s,n){},cc44:function(t,s,n){"use strict";var e=n("d552"),a=n.n(e);a.a},d552:function(t,s,n){},d9e9:function(t,s,n){"use strict";var e=n("9e3c"),a=n.n(e);a.a},de16:function(t,s,n){"use strict";var e=n("8d91"),a=n.n(e);a.a}});
//# sourceMappingURL=app.87d4d959.js.map